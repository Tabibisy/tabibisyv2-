<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0 maximum-scale=1.0, user-scalable=no">
  <title>تطبيق طبيبي</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    body {
      margin: 0;
      font-family: 'Tajawal', sans-serif;
      background: #f5f7fa;
      color: #333;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      transition: background-color 0.3s, color 0.3s;
    }

    header {
      background: #1e88e5;
      color: #fff;
      padding: 15px 20px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      transition: background-color 0.3s;
    }
    header .logo { display: flex; flex-direction: column; }
    header h1 { font-size: 24px; margin: 0; display: flex; align-items: center; gap: 8px; }
    header small { font-size: 13px; color: #e3f2fd; }

    /* زر الهامبرغر */
    #menu-btn {
      font-size: 26px;
      background: #1565c0;
      border: none;
      color: #fff;
      cursor: pointer;
      border-radius: 8px;
      padding: 6px 10px;
      transition: background 0.3s;
    }
    #menu-btn:hover { background: #0d47a1; }

    aside {
      position: fixed; top: 0; right: -250px; width: 250px; height: 100%; background: #fff;
      color: #1e88e5; transition: right 0.3s, background-color 0.3s, color 0.3s; padding-top: 60px; z-index: 1000; box-shadow: -2px 0 6px rgba(0,0,0,0.2);
    }
    aside.active { right: 0; }
    aside .profile { text-align:center; margin-bottom:20px; }
    aside .profile img {
      width: 80px; height: 80px;
      border-radius: 50%;
      border: 3px solid #1e88e5;
      margin-bottom: 10px;
    }
    aside .profile h3 { margin: 5px 0; font-size: 18px; color:#333; }
    aside .profile p { margin: 0; font-size: 14px; color:#666; }

    aside nav ul { list-style: none; padding: 0; margin: 0; }
    aside nav ul li { margin: 15px 0; }
    aside nav ul li a { color: #1e88e5; text-decoration: none; font-size: 16px; display: flex; align-items: center; gap: 10px; padding: 8px 20px; transition: 0.2s; }
    aside nav ul li a:hover { background: #e3f2fd; border-radius: 6px; }

    .overlay { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.5); display: none; z-index: 900; }
    .overlay.active { display: block; }

    main { flex: 1; padding: 20px; }
    .card { background: #fff; padding: 20px; margin: 20px auto; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); max-width: 600px; text-align:center; transition: background-color 0.3s, box-shadow 0.3s; }
    #typing-text { font-size: 22px; font-weight: bold; color: #1e88e5; animation: fade 1s ease; transition: color 0.3s; }
    @keyframes fade { from {opacity: 0;} to {opacity: 1;} }

    .btn { display: block; width:100%; margin: 10px 0; padding: 12px 18px; border-radius: 8px; border: none; cursor: pointer; font-size: 16px; font-weight: bold; text-align:center; transition: background-color 0.3s; }
    .btn-green { background:#4caf50; color:#fff; }
    .btn-green:hover { background:#388e3c; }
    .btn-primary { background:#1e88e5; color:#fff; }
    .btn-primary:hover { background:#1565c0; }
    .btn-secondary { background:#f1f1f1; color:#333; transition: background-color 0.3s, color 0.3s; }
    .btn-secondary:hover { background:#ddd; }

    /* Modal */
    .modal { display: none; position: fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.6); justify-content:center; align-items:center; z-index:2000; }
    .modal-content { background:#fff; padding:20px; border-radius:12px; width:90%; max-width:400px; text-align:center; animation: fadeIn 0.3s ease; transition: background-color 0.3s; }
    .modal-content h3 { margin-bottom: 20px; color:#1e88e5; transition: color 0.3s; }
    .modal button { margin:10px 0; }
    @keyframes fadeIn { from {opacity:0; transform:scale(0.9);} to {opacity:1; transform:scale(1);} }

    footer { text-align: center; padding: 15px; background: #1e88e5; color: #fff; font-size: 14px; transition: background-color 0.3s; }

    /* تنسيق سطح المكتب */
    @media (min-width: 768px) {
      #menu-btn { display: block; }   /* زر القائمة يظل ظاهر */
      .overlay { display: none; }     /* لا داعي للطبقة الشفافة إلا عند الفتح */
    }

    /* مربعات التاريخ والعد */
    .info-boxes {
      display: flex;
      justify-content: space-around;
      gap: 20px;
      text-align: center;
    }
    .info-boxes div {
      flex: 1;
      background: #f9f9f9;
      padding: 15px;
      border-radius: 10px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.05);
      transition: background-color 0.3s, box-shadow 0.3s;
    }
    .info-boxes h4 { margin-bottom: 10px; color:#1e88e5; transition: color 0.3s; }

    /* الوضع المظلم التلقائي */
    @media (prefers-color-scheme: dark) {
      body {
        background: #121212;
        color: #e0e0e0;
      }

      header {
        background: #0d47a1;
      }

      aside {
        background: #1e1e1e;
        color: #90caf9;
        box-shadow: -2px 0 6px rgba(255,255,255,0.1);
      }

      aside .profile h3 {
        color: #e0e0e0;
      }

      aside .profile p {
        color: #b0b0b0;
      }

      aside nav ul li a {
        color: #90caf9;
      }

      aside nav ul li a:hover {
        background: #2a2a2a;
      }

      .card {
        background: #1e1e1e;
        box-shadow: 0 2px 8px rgba(255,255,255,0.05);
      }

      #typing-text {
        color: #90caf9;
      }

      .btn-secondary {
        background: #2a2a2a;
        color: #e0e0e0;
      }

      .btn-secondary:hover {
        background: #3a3a3a;
      }

      .modal-content {
        background: #1e1e1e;
      }

      .modal-content h3 {
        color: #90caf9;
      }

      footer {
        background: #0d47a1;
      }

      .info-boxes div {
        background: #2a2a2a;
        box-shadow: 0 2px 6px rgba(255,255,255,0.05);
      }

      .info-boxes h4 {
        color: #90caf9;
      }
    }
  </style>
</head>
<body>

  <header>
    <div class="logo">
      <h1><i class="fas fa-stethoscope"></i> طبيبي</h1>
      <small>أول تطبيق ذكاء اصطناعي طبي بسوريا</small>
    </div>
    <button id="menu-btn"><i class="fas fa-bars"></i></button>
  </header>

  <aside id="sidebar">
    <div class="profile">
      <img src="https://i.pravatar.cc/150" alt="profile">
      <h3>د. أحمد</h3>
      <p>اختصاصي باطنة</p>
    </div>
    <nav>
      <ul>
        <li><a href="#"><i class="fas fa-user-md"></i> القصة السريرية</a></li>
        <li><a href="#"><i class="fas fa-x-ray"></i> تحليل الصور الشعاعية و التقارير الطبية</a></li>
        <li><a href="#"><i class="fas fa-notes-medical"></i> المحفوظة</a></li>
        <li><a href="#"><i class="fas fa-pills"></i> الوصفات</a></li>
        <li><a href="#"><i class="fas fa-virus"></i> الأمراض</a></li>
        <li><a href="#"><i class="fas fa-cog"></i> الإعدادات</a></li>
      </ul>
    </nav>
  </aside>

  <div class="overlay" id="overlay"></div>

  <main>
    <!-- الشريط المتحرك -->
    <div class="card"><h3 id="typing-text"></h3></div>

    <!-- مربعات التاريخ والعد -->
    <div class="card info-boxes">
      <div>
        <h4>📅 تاريخ اليوم</h4>
        <p id="today-date"></p>
      </div>
      <div>
        <h4>📖 عدد القصص</h4>
        <p id="story-count">0</p>
      </div>
    </div>

    <!-- الأزرار تحت بعض -->
    <div class="card">
      <button class="btn btn-green" id="addStoryBtn">➕ إضافة قصة سريرية جديدة</button>
      <button class="btn btn-secondary">⬇️ تحميل قصة سريرية</button>
    </div>
  </main>

  <!-- Modal -->
  <div class="modal" id="storyModal">
    <div class="modal-content">
      <h3>لمن القصة؟</h3>
      <button class="btn btn-primary"><i class="fas fa-user-md"></i> داخلية عامة / جراحة</button>
      <button class="btn btn-primary"><i class="fas fa-baby"></i> أطفال</button>
      <button class="btn btn-primary"><i class="fas fa-female"></i> نسائية</button>
      <button class="btn btn-secondary" id="closeModal">إلغاء</button>
    </div>
  </div>

  <footer>© جميع الحقوق محفوظة لـ Kasp-ai</footer>

  <script>
    const menuBtn = document.getElementById("menu-btn");
    const sidebar = document.getElementById("sidebar");
    const overlay = document.getElementById("overlay");
    const modal = document.getElementById("storyModal");
    const addStoryBtn = document.getElementById("addStoryBtn");
    const closeModal = document.getElementById("closeModal");

    menuBtn.addEventListener("click", () => {
      sidebar.classList.toggle("active");
      overlay.classList.toggle("active");
    });
    overlay.addEventListener("click", () => {
      sidebar.classList.remove("active");
      overlay.classList.remove("active");
    });

    // Modal events
    addStoryBtn.addEventListener("click", () => { modal.style.display = "flex"; });
    closeModal.addEventListener("click", () => { modal.style.display = "none"; });
    window.addEventListener("click", (e) => { if (e.target === modal) modal.style.display = "none"; });

    // النصوص المتحركة
    const texts = [
      "مرحباً بك في قسم القصة السريرية في تطبيق طبيبي",
      "هنا يمكنك أخذ القصة السريرية بكل احترافية",
      "وتحليلها باستخدام أحدث تقنيات الذكاء الصنعي"
    ];
    let textIndex = 0;
    const typingElement = document.getElementById("typing-text");
    function showText() { typingElement.innerHTML = texts[textIndex]; textIndex = (textIndex + 1) % texts.length; }
    showText();
    setInterval(showText, 3000);

    // عرض تاريخ اليوم
    const todayDate = document.getElementById("today-date");
    const options = { year: 'numeric', month: 'long', day: 'numeric' };
    todayDate.textContent = new Date().toLocaleDateString('ar-EG', options);

    // عدّ القصص السريرية
    let storyCount = 0;
    const storyCountElement = document.getElementById("story-count");
    addStoryBtn.addEventListener("click", () => {
      storyCount++;
      storyCountElement.textContent = storyCount;
    });
  </script>
</body>
</html>
